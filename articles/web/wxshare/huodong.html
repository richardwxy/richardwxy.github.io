<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>摩尔龙制作超级海报免费得红包</title>
    <meta name="keywords" content="摩尔龙制作超级海报免费得红包"/>
    <meta name="description" content="摩尔龙制作超级海报免费得红包"/>
    <!--<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">-->
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">


    <link rel="stylesheet" href="http://static.ichaotu.com/wx10//dest/js/c/css/active.css?31"/>
    <link rel="stylesheet" href="cs-select.css" />
    <link rel="stylesheet" href="cs-skin-elastic.css" />
    <style>
        #maskLayer{
            width:100%; height:900px; background-color:#000000; opacity:0.9; -moz-opacity:0.5;position:fixed;z-index:1000;top:0;left:0;display:none;
        }
        #maskLayer img{margin:20% auto;border:0;}
        select{
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance:none;

        }
        option{
            width: 80px;
            height: 35px;
        }
        .optionColorBlock{
            width: 30px;
            height: 30px;
        }

    </style>


    <link rel="stylesheet" href="swiper.min.css" />
    <style>
        /*<!-- swiper 滑动控件用 -->*/

        .swiper-container {
            width: 100%;
            height: 50px;
            margin: 20px auto;
        }
        .swiper-slide {
            text-align: center;
            font-size: 14px;
            background: #fff;
            width: 80%;
            background: #5b8583;
            color: #ffffff;
            border-radius: 25px;

            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
        }
    </style>

    <style>
        /*<!--显示自定义选项部分-->*/
        @font-face {
            font-family: "paoxiao";
            src: url('nahan.TTF');
            /*font-style: normal;*/
            /*​font-weight: normal;*/
        }
        #fontNameChoose ul li:nth-child(1) {
            font-family: "paoxiao";
        }

        @font-face {
            font-family: "hyrys";
            src: url('hanyiruiyisong.otf');
            /*font-style: normal;*/
            /*​font-weight: normal;*/
        }
        #fontNameChoose ul li:nth-child(2) {
            font-family: "hyrys";
        }

        @font-face {
            font-family: "ygytkjt";
            src: url('YGYtekaijianti.ttf');
            /*font-style: normal;*/
            /*​font-weight: normal;*/
        }
        #fontNameChoose ul li:nth-child(3) {
            font-family: "ygytkjt";
        }

        @font-face {
            font-family: "yueyuanti";
            src: url('yueyuan.otf');
            /*font-style: normal;*/
            /*​font-weight: normal;*/
        }
        #fontNameChoose ul li:nth-child(4) {
            font-family: "yueyuanti";
        }

        @font-face {
            font-family: "miaowu";
            src: url('miaowu.ttf');
            /*font-style: normal;*/
            /*​font-weight: normal;*/
        }
        #fontNameChoose ul li:nth-child(5) {
            font-family: "miaowu";
        }

        #fontSizeChoose ul li:nth-child(1) {
            font-size: 12px;
        }
        #fontSizeChoose ul li:nth-child(2) {
            font-size: 14px;
        }
        #fontSizeChoose ul li:nth-child(3) {
             font-size: 16px;
         }

        #fontColorChoose ul li:nth-child(1){
            color: rgb(89,87,87) ;
        }
        #fontColorChoose ul li:nth-child(2){
            background: #564f4f;
            color: rgb(255,255,255) ;
        }
        #fontColorChoose ul li:nth-child(3){
            color: rgb(5,140,121);
        }
        #fontColorChoose ul li:nth-child(4){
            color: rgb(253,209,106);
        }
        #fontColorChoose ul li:nth-child(5){
            color: rgb(255,106,106);
        }
        #fontColorChoose ul li:nth-child(6){
            color: rgb(0,191,255);
        }
        #fontColorChoose ul li:nth-child(7){
            color: rgb(255,127,36);
        }

    </style>

</head>
<body>
<div class="wrap page-upload">
    <div class="content">
        <!-- hidden crop params -->
        <input type="hidden" id="x1" name="x1" autocomplete="off"/>
        <input type="hidden" id="y1" name="y1" autocomplete="off"/>
        <input type="hidden" id="x2" name="x2" autocomplete="off"/>
        <input type="hidden" id="y2" name="y2" autocomplete="off"/>


        <div class="img J_uploadContent">
            <div class="J_uploadWrap"><img src="icon-photo-morelong.png"></div>
        </div>
        <div class="preview-img J_preview" style="display: none;">
            <img id="preview-upload-img"></div>

        <div class="container J_viewContent" style="display: none;">
            <a href="#J_main" class="btn-goto J_goto">确认裁剪</a>
            <img id="preview"/>
        </div>


        <ul style="display: none;">
            <li><label>图像尺寸</label> <input type="text" id="filedim" name="filedim" class="input"
                                           autocomplete="off"/></li>
            <li><label>宽度</label> <input type="text" id="w" name="w" class="input" autocomplete="off"/></li>
            <li><label>高度</label> <input type="text" id="h" name="h" class="input" autocomplete="off"/></li>
        </ul>

        <div class="J_main" id="J_main">
            <div class="introduce"><p>海报文字</p></div>
            <!--<div class="item">-->
                <!--<input type="text" name="manager" id="manager" disabled="yes" placeholder="" value="相信，改变未来-->
<!--12.16日，发布会见">-->
            <!--</div>-->

            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">相信，改变未来 12.16日，发布会见</div>
                    <div class="swiper-slide">相信，改变未来 12.16日，发布会见</div>
                    <div class="swiper-slide">相信，改变未来 12.16日，发布会见</div>
                    <div class="swiper-slide">相信，改变未来 12.16日，发布会见</div>
                    <div class="swiper-slide">相信，改变未来 12.16日，发布会见</div>
                </div>
                <!-- Add Pagination -->
                <div class="swiper-pagination"></div>
            </div>







            <div class="introduce"><p>（用户自定义文案）</p></div>
            <div class="item">
                <input type="text" name="desc1" id="desc1" placeholder="选填,最长18个字符">
            </div>
            <div class="cs-select cs-skin-elastic" id="fontNameChoose" tabindex="0">
                <div class="cs-options">
                   <!-- load后会创建 class=“cs-placeholder” 的span 显示结果  最终结果可从此获取 -->
                </div>
                <select class="cs-select cs-skin-elastic">
                    <option value="" disabled="" selected="">选择字体</option>
                    <option value="方正咆哮简体" data-class="flag-france">方正咆哮简体</option>
                    <option value="汉仪瑞意宋" data-class="flag-brazil">汉仪瑞意宋</option>
                    <option value="叶根友特楷简体" data-class="flag-brazil">叶根友特楷简体</option>
                    <option value="造字工房悦圆体" data-class="flag-argentina">造字工房悦圆体</option>
                    <option value="方正喵呜体" data-class="flag-safrica">方正喵呜体</option>
                </select>
            </div>
            <div class="cs-select cs-skin-elastic" id="fontSizeChoose" tabindex="0">
                <div class="cs-options">
                    <!-- load后会创建 class=“cs-placeholder” 的span 显示结果  最终结果可从此获取 -->

                </div>
                <select class="cs-select cs-skin-elastic">
                    <option value="" disabled="" selected="">选择字号</option>
                    <option value="小" data-class="flag-france">小</option>
                    <option value="标准" data-class="flag-brazil">标准</option>
                    <option value="大" data-class="flag-brazil">大</option>
                </select>
            </div>
            <div class="cs-select cs-skin-elastic" tabindex="0" id="fontColorChoose">
                <div class="cs-options">
                    <!-- load后会创建 class=“cs-placeholder” 的span 显示结果  最终结果可从此获取 -->
                </div>
                <select class="cs-select cs-skin-elastic" >
                    <option value="" disabled="" selected="">选择颜色</option>
                    <option value="r" data-class="flag-france">深灰</option>
                    <option value="b" data-class="flag-brazil">纯白</option>
                    <option value="w" data-class="flag-brazil">生态绿</option>
                    <option value="g" data-class="flag-argentina">黄</option>
                    <option value="gr" data-class="flag-safrica">印度红</option>
                    <option value="gr" data-class="flag-safrica">天蓝</option>
                    <option value="gr" data-class="flag-safrica">巧克力</option>
                </select>
            </div>
            <br />
            <br />
            <br />
            <br />
            <br />
            <br /><br />
            <br />

            <button class="btn-submit J_submit">生成我的海报</button>
            <div class="money">此活动金额均由超级图片支持</div>
        </div>
    </div>
</div>
<div id="maskLayer">
    <img src="/images/loading.gif?31" />
</div>

<script src="swiper.min.js"></script>
<script>
    <!--文案样式-->
    window.onload = function() {
        var swiper = new Swiper('.swiper-container', {
//            pagination: '.swiper-pagination',
            slidesPerView: 'auto',
            centeredSlides: true,
            paginationClickable: true,
            spaceBetween: 30
        })

        var btn = document.getElementsByClassName("J_submit")[0].onclick = function (){


//            var slider = document.getElementsByClassName("swiper-slide-active")[0];
//            var swiper = document.getElementsByClassName("swiper-slide");
            var index = $(".swiper-slide").index($(".swiper-slide-active"));

            var fontName = document.getElementById("fontNameChoose").getElementsByClassName("cs-placeholder")[0].innerHTML;
            if(fontName === "选择字体")fontName="预设字体";
            var fontSize = document.getElementById("fontSizeChoose").getElementsByClassName("cs-placeholder")[0].innerHTML;
            if(fontSize === "选择字号")fontName="预设字号";
            var fontColor = document.getElementById("fontColorChoose").getElementsByClassName("cs-placeholder")[0].innerHTML;
            if(fontColor === "选择颜色")fontName="预设颜色";

            alert("当前选择预设文案为："+index+"\n\n"+"当前选择的字体名为："+fontName +" 字体大小为："+fontSize+" 字体颜色为："+fontColor);



        };
    }

</script>


<script src="http://static.ichaotu.com/wx10//dest/js/c/jquery-1.min.js?31"></script>
<script src="http://static.ichaotu.com/wx10//dest/js/c/jquery.Jcrop.min.js?31"></script>
<script src="http://static.ichaotu.com/wx10//dest/js/c/SP.js?31"></script>

<script src="active-wx.js"></script>
<script>
    <!--select 样式-->
    (function() {
        [].slice.call( document.querySelectorAll( 'select.cs-select' ) ).forEach( function(el) {
            new SelectFx(el);
        } );
    })();
</script>

<script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script type="text/javascript">
    wx.config({
        debug: false,
        appId: 	'wxb36b6b0972dde66f',
        timestamp: 1479346685,
        nonceStr: '953885',
        signature: '3f242fb68b1e6b22aac01012dcc56a9b2145e2ba',
        jsApiList: [
            'checkJsApi',
            'onMenuShareTimeline',
            'onMenuShareAppMessage',
            'onMenuShareQQ',
            'onMenuShareWeibo',
            'openLocation',
            'getLocation',
            'addCard',
            'chooseCard',
            'openCard',
            'hideMenuItems',
            'previewImage',
            'chooseImage',
            'uploadImage',
            'downloadImage'
        ]
    });
</script>
<script type="text/javascript">
    wx.ready(function () {
        // 1 判断当前版本是否支持指定 JS 接口，支持批量判断
        /*document.querySelector('#checkJsApi').onclick = function () {
         wx.checkJsApi({
         jsApiList: [
         'getNetworkType',
         'previewImage'
         ],
         success: function (res) {
         //alert(JSON.stringify(res));
         }
         });
         };*/
        // 2. 分享接口
        // 2.1 监听“分享给朋友”，按钮点击、自定义分享内容及分享结果接口
        wx.onMenuShareAppMessage({
            title: window.shareData.tTitle,
            desc: window.shareData.tContent,
            link: window.shareData.sendFriendLink,
            imgUrl: window.shareData.imgUrl,
            type: '', // 分享类型,music、video或link，不填默认为link
            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
            success: function () {
                shareHandle('frined');
            },
            cancel: function () {
                //alert('分享朋友失败');
            }
        });


        // 2.2 监听“分享到朋友圈”按钮点击、自定义分享内容及分享结果接口
        wx.onMenuShareTimeline({
            title: window.shareData.fTitle?window.shareData.fTitle:window.shareData.tTitle,
            link: window.shareData.sendFriendLink,
            imgUrl: window.shareData.imgUrl,
            success: function () {
                shareHandle('frineds');
                //alert('分享朋友圈成功');
            },
            cancel: function () {
                //alert('分享朋友圈失败');
            }
        });

        // 2.4 监听“分享到微博”按钮点击、自定义分享内容及分享结果接口
        wx.onMenuShareWeibo({
            title: window.shareData.tTitle,
            desc: window.shareData.tContent,
            link: window.shareData.sendFriendLink,
            imgUrl: window.shareData.imgUrl,
            success: function () {
                shareHandle('weibo');
                //alert('分享微博成功');
            },
            cancel: function () {
                //alert('分享微博失败');
            }
        });
        wx.hideMenuItems({
            menuList: [
                'menuItem:share:timeline', //隐藏分享到朋友圈,
                'menuItem:copyUrl'
            ],
        });
        wx.error(function (res) {
            /*if(res.errMsg == 'config:invalid signature'){
             wx.hideOptionMenu();
             }else if(res.errMsg == 'config:invalid url domain'){
             wx.hideOptionMenu();
             }else{
             wx.hideOptionMenu();
             //alert(res.errMsg);
             }*/
            if(res.errMsg){
                wx.hideOptionMenu();
            }
        });
    });

    function shareHandle(to) {
        var submitData = {
            module: window.shareData.moduleName,
            moduleid: window.shareData.moduleID,
            token:'yvwrpv1459910246',
            wecha_id:'oIUBpuGfqKReHEMCjAy1O1mq5qPg',
            url: window.shareData.sendFriendLink,
            to:to
        };

        $.post('index.php?g=Wap&m=Share&a=shareData&token=yvwrpv1459910246&wecha_id=oIUBpuGfqKReHEMCjAy1O1mq5qPg',submitData,function (data) {},'json');
        if(window.shareData.isShareNum == 1){
            var ShareNum = {
                token:'yvwrpv1459910246',
                ShareNumData:window.shareData.ShareNumData
            }
            $.post('index.php?g=Wap&m=Share&a=ShareNum&token=yvwrpv1459910246&wecha_id=oIUBpuGfqKReHEMCjAy1O1mq5qPg',ShareNum,function (data) {if(window.shareData.isShareNumReload == 1){location.reload();}},'json');
        }
    }
</script><script>
    $('.J_preview,.J_uploadContent').on('click', function(){
        wx.chooseImage({
            count: 1,
            sizeType: ['original', 'compressed'],
            sourceType: ['album', 'camera'],
            success: function (res) {
                var localIds = res.localIds;
                wx.uploadImage({
                    localId: localIds[0],
                    isShowProgressTips: 1,
                    success: function (res) {
                        $.ajax({
                            type: 'POST',
                            url:'/index.php?g=Wap&m=Huodong&a=wxPic',
                            data:{serverId:res.serverId},
                            dataType:'json',
                            success:function(res){
                                if(res.code == 0) {
                                    cropImage(res.pic, 800, 900);
                                }else{
                                    SP.dialog.tip(res.msg);
                                }
                            }
                        });
                    }
                });
            }
        });
    })
</script>
</body>
</html>