<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.11.1 (455061)"/><meta name="author" content="779483709@qq.com"/><meta name="created" content="2017-07-21 01:35:05 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-07-23 15:18:45 +0000"/><title>redux   7-21</title></head><body><div><span style="font-size: 18px; font-weight: bold;">解决什么问题:</span></div><div>    React有props和state:<span style="color: rgb(0, 150, 255);"> props意味着父级分发下来的属性</span>，<span style="color: rgb(0, 150, 255);">state意味着组件内部可以自行管理的状态</span>，并且整个React没有数据<span style="color: rgb(0, 150, 255);">向上回溯</span>的能力，也就是说数据只能<span style="color: rgb(0, 150, 255);">单向向下分发.</span></div><div>    一般构建的React组件内部可能是一个完整的应用，它自己工作良好，你可以通过属性作为API控制它。但是更多的时候发现React根本无法让两个组件互相交流，使用对方的数据。然后这时候不通过DOM沟通（也就是React体制内）<span style="color: rgb(0, 150, 255);">解决的唯一办法就是提升state，将state放到共有的父组件中来管理，再作为props分发回子组件。</span></div><div><span style="color: rgb(0, 150, 255);">    </span>子组件改变父组件state的办法只能是通过<span style="color: rgb(0, 150, 255);">onClick触发父组件声明好的回调</span>，也就是父组件提前声明好函数或方法作为契约描述自己的state将如何变化，再将它同样作为属性交给子组件使用。</div><div><span style="color: rgb(0, 150, 255);">    </span></div><div>    所以出现了一个模式 : 就是把所有state集中放到所有组件顶层，然后分发给所有组件。</div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">redux三要素:</span></div><div><span style="font-size: 18px;">   </span><span style="font-size: 14px;">a. </span><span style="font-size: 14px; color: rgb(0, 150, 255);">需要回调通知state (等同于回调参数---要做什么)   -&gt;    action</span></div><div><span style="font-size: 14px;">    b. </span><span style="font-size: 14px; color: rgb(0, 150, 255);">需要根据回调处理 (等同于父级方法---怎么做)       -&gt;</span><span style="font-size: 14px; color: rgb(0, 150, 255);">    </span><span style="font-size: 14px; color: rgb(0, 150, 255);">reducer</span></div><div><span style="font-size: 14px;">    c. </span><span style="font-size: 14px; color: rgb(0, 150, 255);">需要state (等同于总状态) </span><span style="font-size: 14px; color: rgb(0, 150, 255);">    </span><span style="font-size: 14px; color: rgb(0, 150, 255);">    </span><span style="font-size: 14px; color: rgb(0, 150, 255);">    </span><span style="font-size: 14px; color: rgb(0, 150, 255);">    </span><span style="font-size: 14px; color: rgb(0, 150, 255);">  </span><span style="font-size: 14px; color: rgb(0, 150, 255);">    </span><span style="font-size: 14px; color: rgb(0, 150, 255);">    </span><span style="font-size: 14px; color: rgb(0, 150, 255);">    </span><span style="font-size: 14px; color: rgb(0, 150, 255);">      </span><span style="font-size: 14px; color: rgb(0, 150, 255);">  </span><span style="font-size: 14px; color: rgb(0, 150, 255);">-&gt; </span><span style="font-size: 14px; color: rgb(0, 150, 255);">   </span><span style="font-size: 14px; color: rgb(0, 150, 255);">store</span></div><div><br/></div><div><span style="color: rgb(0, 150, 255);">action是纯声明式的数据结构，只提供事件的所有要素，不提供逻辑。</span></div><div><br/></div><div><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">    </span><img src="redux%20%20%207-21.resources/9F82D0B2-3214-4ADE-BFFF-A78D441B2EEB.png" height="185" width="417"/><br/></div><div><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">    (</span><span style="color: rgb(0, 150, 255);">yunda-repair-master/app/actions/scan.js</span><span style="color: rgb(0, 150, 255);">)</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="color: rgb(0, 150, 255);">reducer是一个匹配函数</span>，<span style="color: rgb(0, 150, 255);">action</span>的发送是<span style="color: rgb(0, 150, 255);">全局</span>的：所有的<span style="color: rgb(0, 150, 255);">reducer</span>都可以<span style="color: rgb(0, 150, 255);">捕捉到并匹配</span>与自己相关与否，相关就拿走<span style="color: rgb(0, 150, 255);">action中的要素进行逻辑处理，修改store中的状态</span>，不相关就不对state做处理原样返回。        </div><div><br/></div><div>        reducer 很多的话 可以使用 combineReducers 合并:</div><div>        <img src="redux%20%20%207-21.resources/D71781BD-63AD-42DC-8583-4056B9021291.png" height="380" width="335"/><br/></div><div><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">    (yunda-repair-master/app/reducers/reducers.js)</span></div><div><br/></div><div>        具体reducer 示例:</div><div>        <img src="redux%20%20%207-21.resources/9B10FD84-06BD-44D9-88A0-442DF55DFBC8.png" height="398" width="424"/><br/></div><div><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">(yunda-repair-master/app/reducers/scan.js)</span></div><div>        ------------ <span style="color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: pre; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgba(128, 128, 128, 0.0470588); float: none;">Object.assign ----js中的深拷贝(拷贝后 原对象值改变拷贝值不会随之改变)</span></div><div><span style="color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: pre; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgba(128, 128, 128, 0.0470588); float: none;">       </span><a style="color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: pre; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgba(128, 128, 128, 0.0470588); float: none;" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign"> API:</a><a style="color: rgb(51, 51, 51); font-family: 'Source Code Pro'; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: pre; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgba(128, 128, 128, 0.0470588); float: none;" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign">Object.assign(target, ...sources)</a></div><div>        </div><div><span style="color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: pre; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgba(128, 128, 128, 0.0470588); float: none;">    </span><span style="color: rgb(51, 51, 51); font-family: 'Source Code Pro', monospace; font-size: 14px; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: pre; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgba(128, 128, 128, 0.0470588); float: none;">    </span></div><div><br/></div><div><br/></div><div><br/></div><div><span style="color: rgb(0, 150, 255);">store负责存储状态并可以被react api回调，发布action.</span></div><div><br/></div><div><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">    创建store:   </span></div><div><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: bold; letter-spacing: 0.20000000298023224px; color: rgb(0, 150, 255);">    </span><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: bold; letter-spacing: 0.20000000298023224px; color: rgb(0, 150, 255);">    </span><img src="redux%20%20%207-21.resources/176B2CEB-D560-4EF7-B984-BFAB6BAC4451.png" height="220" width="575"/><br/></div><div><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">(</span><span style="color: rgb(0, 150, 255);">yunda-repair-master/app/store/configureStore.js</span><span style="color: rgb(0, 150, 255);">)</span></div><div><span style="color: rgb(4, 51, 255); box-sizing: border-box; -webkit-font-smoothing: antialiased;">            </span><a style="color: rgb(4, 51, 255); box-sizing: border-box; -webkit-font-smoothing: antialiased;" href="http://cn.redux.js.org/docs/api/createStore.html">API:createStore</a><a style="color: rgb(4, 51, 255); box-sizing: border-box; -webkit-font-smoothing: antialiased;" href="http://cn.redux.js.org/docs/api/createStore.html">(</a><a style="color: rgb(4, 51, 255);" href="http://cn.redux.js.org/docs/api/createStore.html">reducer</a><a style="color: rgb(4, 51, 255); box-sizing: border-box; -webkit-font-smoothing: antialiased;" href="http://cn.redux.js.org/docs/api/createStore.html">,</a><a style="color: rgb(4, 51, 255);" href="http://cn.redux.js.org/docs/api/createStore.html"> </a><a style="color: rgb(4, 51, 255); box-sizing: border-box; -webkit-font-smoothing: antialiased;" href="http://cn.redux.js.org/docs/api/createStore.html">[</a><a style="color: rgb(4, 51, 255);" href="http://cn.redux.js.org/docs/api/createStore.html">preloadedState</a><a style="color: rgb(4, 51, 255); box-sizing: border-box; -webkit-font-smoothing: antialiased;" href="http://cn.redux.js.org/docs/api/createStore.html">]</a><a style="color: rgb(4, 51, 255); box-sizing: border-box; -webkit-font-smoothing: antialiased;" href="http://cn.redux.js.org/docs/api/createStore.html">,</a><a style="color: rgb(4, 51, 255);" href="http://cn.redux.js.org/docs/api/createStore.html">enhancer</a><a style="color: rgb(4, 51, 255); box-sizing: border-box; -webkit-font-smoothing: antialiased;" href="http://cn.redux.js.org/docs/api/createStore.html">)</a></div><div><br/></div><div><br/></div><div><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">    </span><img src="redux%20%20%207-21.resources/F7B50F13-AD48-43E6-9535-5F754CDAD42D.png" height="90" width="544"/><br/></div><div><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">(</span><span style="color: rgb(0, 150, 255);">yunda-repair-master/app/components/Main/Main.js</span><span style="color: rgb(0, 150, 255);">)</span></div><div><br/></div><div><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">    </span><span style="color: rgb(0, 150, 255);">/* 发出action</span></div><h3 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 150, 255); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">    </span><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 150, 255); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">    </span><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 150, 255); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">store.dispatch()</span></h3><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch()</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(0, 150, 255); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">是 View 发出 Action 的唯一方法。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font style="color: rgb(0, 150, 255);"><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>import <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> createStore <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>const store <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">createStore<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>fn<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><br/>store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/>  type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'ADD_TODO'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span><br/>  payload<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'Learn Redux'</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(0, 150, 255); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(0, 150, 255); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(0, 150, 255); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">上面代码中，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(0, 150, 255); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">接受一个 Action 对象作为参数，将它发送出去。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(0, 150, 255); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(0, 150, 255); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(0, 150, 255); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">结合 Action Creator，这段代码可以改写如下。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font style="color: rgb(0, 150, 255);"><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">addTodo<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'Learn Redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span></font></code></font></pre></blockquote><div><br/></div><div><span style="color: rgb(0, 150, 255);">*/</span></div><div><br/></div><div><br/></div><div><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; font-size: 18px; font-weight: bold;">Redux 三个基本原则：</span></div><h3 style="font-weight: bold; box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; font-size: 14px;">单一数据源</span></h3><div style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;">整个应用的 </span><a style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;" href="http://cn.redux.js.org/docs/Glossary.html#state">state</a><span style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;"> 被储存在一棵 object tree 中，并且这个 object tree 只存在于唯一一个 </span><a style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;" href="http://cn.redux.js.org/docs/Glossary.html#store">store</a><span style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;"> 中。</span></div><h3 style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-weight: bold; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-weight: bold; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; font-size: 14px;">State 是只读的</span></h3><div style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;">唯一改变 state 的方法就是触发 </span><a style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;" href="http://cn.redux.js.org/docs/Glossary.html#action">action</a><span style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;">，action 是一个用于描述已发生事件的普通对象。</span></div><h3 style="font-weight: bold; box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: bold; box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; font-size: 14px;">使用纯函数来执行修改(纯函数-----只要输入相同输出也必定相同)</span></h3><div style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;">为了描述 action 如何改变 state tree ，你需要编写 </span><a style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;" href="http://cn.redux.js.org/docs/Glossary.html#reducer">reducers</a><span style="box-sizing: border-box; -webkit-font-smoothing: antialiased; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-variant-caps: normal; letter-spacing: 0.20000000298023224px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; float: none; font-size: 14px;">。</span></div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">react-redux:</span></div><div><span style="color: rgb(0, 150, 255);">    </span>一般使用redux时,我们还使用<span style="color: rgb(0, 150, 255);">react-redux</span>库, 提供一个<span style="color: rgb(0, 150, 255);">Provider</span>和<span style="color: rgb(0, 150, 255);">connect</span></div><div><img src="redux%20%20%207-21.resources/50301F1E-11B0-48EF-9863-3140853667C5.png" height="42" width="286"/><br/></div><div><br/></div><div>a. <span style="color: rgb(0, 150, 255);">Provider</span>是一个<span style="color: rgb(0, 150, 255);">普通组件</span>，可以作为<span style="color: rgb(0, 150, 255);">顶层app的分发点</span>，它只需要<span style="color: rgb(0, 150, 255);">store</span>属性就可以了。它会将state分发给所有被connect的组件，不管它在哪里，被嵌套多少层。</div><div>b. <span style="color: rgb(0, 150, 255);">connect</span>是真正的重点，它是一个科里化函数，意思是<span style="color: rgb(0, 150, 255);">先接受两个参数</span>（数据绑定mapStateToProps和事件绑定mapDispatchToProps），<span style="color: rgb(0, 150, 255);">再接受一个参数</span>（将要绑定的组件本身）：</div><div><span style="color: rgb(0, 150, 255);">mapStateToProps</span>：构建好Redux系统的时候，它会被自动初始化，但是你的React组件并不知道它的存在，因此你需要分拣出你需要的Redux状态，所以你需要绑定一个函数，它的参数是state，简单返回你关心的几个值。<span style="color: rgb(148, 33, 147);"> (中间件处会介绍)</span></div><div><span style="color: rgb(0, 150, 255);">mapDispatchToProps</span>：声明好的action作为回调，也可以被注入到组件里，就是通过这个函数，它的参数是dispatch，通过redux的辅助方法bindActionCreator绑定所有action以及参数的dispatch，就可以作为属性在组件里面作为函数简单使用了，不需要手动dispatch。这个mapDispatchToProps是可选的，如果不传这个参数redux会简单把dispatch作为属性注入给组件，可以手动当做store.dispatch使用。这也是为什么要科里化的原因。<span style="color: rgb(148, 33, 147);">(中间件处会介绍)</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><a style="font-size: 18px; font-weight: bold;" href="http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_two_async_operations.html">中间件:</a><span style="font-size: 18px; font-weight: bold;">   (为action添加其他操作)</span></div><div><span style="font-size: 14px;">    </span><span style="font-size: 14px;">刚刚我们介绍了用户发出 Action，Reducer 函数算出新的 State，View 重新渲染。</span></div><div><span style="font-size: 14px;">    </span><span style="font-size: 14px;">但是，一个关键问题没有解决：异步操作怎么办？Action 发出以后，Reducer 立即算出 State，这叫做同步；Action 发出以后，过一段时间再执行 Reducer，这就是异步。 怎么才能 Reducer 在异步操作结束后自动执行呢？这就要用到新的工具：中间件（middleware）。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">为了理解中间件，让我们站在框架作者的角度思考问题：如果要添加功能，你会在哪个环节添加？</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; font-size: 14px;">（1）Reducer：纯函数，只承担计算 State 的功能，不合适承担其他功能，也承担不了，因为理论上，纯函数不能进行读写操作。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; font-size: 14px;">（2）View：与 State 一一对应，可以看作 State 的视觉层，也不合适承担其他功能。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; font-size: 14px;">（3）Action：存放数据的对象，即消息的载体，只能被别人操作，自己不能进行任何操作。</span></div></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">想来想去，只有发送 Action 的这个步骤，即</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch()</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">方法，可以添加功能。举例来说，要添加日志功能，把 Action 和 State 打印出来，可以对</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">进行如下改造。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(0, 119, 170);">let</span> next <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span>dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span>dispatch <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(0, 119, 170);">function</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatchAndLog<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>action<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/>  console<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">log<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'dispatching'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> action<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">next<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>action<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>  console<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">log<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'next state'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">getState<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/></font></code></b></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">上面代码中，对</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">进行了重定义，在发送 Action 前后添加了打印功能。这就是中间件的雏形。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">中间件就是一个函数，对</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">方法进行了改造，在发出 Action 和执行 Reducer 这两步之间，添加了其他功能。    </span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">常用的中间件都有现成的，只要引用别人写好的模块即可。比如，上一节的日志中间件，就有现成的</span><a style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 34, 51); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; text-decoration: underline;" href="https://github.com/evgenyrodionov/redux-logger">redux-logger</a><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">模块。这里只介绍怎么使用中间件。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>import <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> applyMiddleware<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> createStore <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>import createLogger from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'redux-logger'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>const logger <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">createLogger<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><br/>const store <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">createStore<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><br/>  reducer<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span><br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">applyMiddleware<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>logger<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></b></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">    </span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">上面代码中，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">redux-logger</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">提供一个生成器</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">createLogger</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">，可以生成日志中间件</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">logger</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">。然后，将它放在</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">applyMiddleware</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">方法之中，传入</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">createStore</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">方法，就完成了</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch()</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">的功能增强。</span></div><div><span style="font-weight: bold;">    </span><span style="font-weight: bold;">    </span></div><h2 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-weight: bold; font-size: 14px;">异步操作的基本思路</span></h2><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">理解了中间件以后，就可以处理异步操作了。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">同步操作只要发出一种 Action 即可，异步操作的差别是它要发出三种 Action。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><ul style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold; font-size: 14px;">操作发起时的 Action</span></li><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold; font-size: 14px;">操作成功时的 Action</span></li><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold; font-size: 14px;">操作失败时的 Action</span></li></ul></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">以向服务器取出数据为例，三种 Action 可以有两种不同的写法。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(112, 128, 144);"><br/>// 写法一：名称相同，参数不同<br/></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'FETCH_POSTS'</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'FETCH_POSTS'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> status<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'error'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> error<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'Oops'</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'FETCH_POSTS'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> status<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'success'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> response<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(112, 128, 144);"><br/>// 写法二：名称不同<br/></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'FETCH_POSTS_REQUEST'</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'FETCH_POSTS_FAILURE'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> error<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'Oops'</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'FETCH_POSTS_SUCCESS'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> response<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/></font></code></b></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">除了 Action 种类不同，异步操作的 State 也要进行改造，反映不同的操作状态。下面是 State 的一个例子。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(0, 119, 170);">let</span> state <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(112, 128, 144);"> // ... <br/></span>  isFetching<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 0, 85);">true</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span><br/>  didInvalidate<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 0, 85);">true</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span><br/>  lastUpdated<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'xxxxxxx'</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></b></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">上面代码中，State 的属性</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">isFetching</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">表示是否在抓取数据。</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">didInvalidate</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">表示数据是否过时，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">lastUpdated</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">表示上一次更新时间。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">现在，整个异步操作的思路就很清楚了。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><ul style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold; font-size: 14px;">操作开始时，送出一个 Action，触发 State 更新为"正在操作"状态，View 重新渲染</span></li><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold; font-size: 14px;">操作结束后，再送出一个 Action，触发 State 更新为"操作结束"状态，View 再一次重新渲染</span></li></ul></blockquote><div><br/></div><div><br/></div><h2 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-weight: bold; font-size: 18px;">redux-thunk 中间件:</span></h2><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">异步操作至少要送出两个 Action：用户触发第一个 Action，这个跟同步操作一样，没有问题；如何才能在操作结束时，系统自动送出第二个 Action 呢？</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">奥妙就在 Action Creator 之中。</span></div><blockquote style="font-size: 14px; padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><br/>class <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">AsyncApp</span> extends <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">Component</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">componentDidMount<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/>    const <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> selectedPost <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> this<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span>props<br/>    <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">fetchPosts<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>selectedPost<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(112, 128, 144);"><br/>// ...<br/></span></code></b></font></pre></blockquote><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">上面代码是一个异步组件的例子。加载成功后（</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">componentDidMount</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">方法），它送出了（</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">dispatch</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">方法）一个 Action，向服务器要求数据 </span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">fetchPosts(selectedSubreddit)</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">。这里的</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">fetchPosts</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">就是 Action Creator。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">下面就是</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">fetchPosts</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">的代码，关键之处就在里面。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><img src="redux%20%20%207-21.resources/B48A98C4-AC28-43CD-81F6-67B9B0B840D2.jpg" height="479" width="638"/><br/></div><blockquote style="font-size: 14px; padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><br/>const fetchPosts <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> postTitle <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">&gt;</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span>dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> getState<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">&gt;</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">requestPosts<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>postTitle<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(0, 119, 170);">return</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">fetch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>`<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">/</span>some<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">/</span>API<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">/</span>$<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span>postTitle<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span>json`<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><br/>    <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">then<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>response <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">&gt;</span> response<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">json<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><br/>    <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">then<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>json <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">&gt;</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">receivePosts<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>postTitle<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> json<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(112, 128, 144);"><br/>// 使用方法一<br/></span>store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">fetchPosts<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'reactjs'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(112, 128, 144);"><br/>// 使用方法二<br/></span>store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">fetchPosts<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'reactjs'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">then<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">&gt;</span><br/>  console<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">log<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">getState<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></code></b></font></pre></blockquote><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">上面代码中，</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">fetchPosts</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">是一个Action Creator（动作生成器），返回一个函数。这个函数执行后，先发出一个Action（</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">requestPosts(postTitle)</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">），然后进行异步操作。拿到结果后，先将结果转成 JSON 格式，然后再发出一个 Action（ </span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">receivePosts(postTitle, json)</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">）。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">上面代码中，有几个地方需要注意。</span></div><blockquote style="font-size: 14px; padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">（1）</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">fetchPosts</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">返回了一个函数，而普通的 Action Creator 默认返回一个对象。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">（2）返回的函数的参数是</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">dispatch</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">和</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">getState</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">这两个 Redux 方法，普通的 Action Creator 的参数是 Action 的内容。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">（3）在返回的函数之中，先发出一个 Action（</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">requestPosts(postTitle)</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">），表示操作开始。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">（4）异步操作结束之后，再发出一个 Action（</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">receivePosts(postTitle, json)</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">），表示操作结束。</span></div></blockquote><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">这样的处理，就解决了自动发送第二个 Action 的问题。但是，又带来了一个新的问题，Action 是由</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">方法发送的。而</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">方法正常情况下，参数只能是对象，不能是函数。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">这时，就要使用中间件</span><a style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; -webkit-transition: all 1s; transition: all 1s; text-decoration: underline;" href="https://github.com/gaearon/redux-thunk">redux-thunk</a><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">。</span></div><blockquote style="font-size: 14px; padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><br/>import <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> createStore<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> applyMiddleware <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>import thunk from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'redux-thunk'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>import reducer from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'./reducers'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(112, 128, 144);"><br/>// Note: this API requires redux@&gt;=3.1.0<br/></span>const store <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">createStore<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><br/>  reducer<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span><br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">applyMiddleware<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>thunk<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></code></b></font></pre></blockquote><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">上面代码使用</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">redux-thunk</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">中间件，改造</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">，使得后者可以接受函数作为参数。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">因此，异步操作的第一种解决方案就是，写出一个返回函数的 Action Creator，然后使用</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">redux-thunk</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">中间件改造</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">。</span></div><div><br/></div><div><br/></div><div><br/></div><div><a style="font-weight: bold; font-family: Georgia, serif; color: rgb(17, 17, 17); font-size: 24px;" href="http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_three_react-redux.html">React-Redux:</a></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">React-Redux 将所有组件分成两大类：UI 组件（presentational component）和容器组件（container component）:</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">UI 组件有以下几个特征。</span></div><blockquote style="font-size: 14px; padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><ul style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold;">只负责 UI 的呈现，不带有任何业务逻辑</span></li><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold;">没有状态（即不使用</span><span style="font-weight: bold; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17);">this.state</span><span style="font-weight: bold;">这个变量）</span></li><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold;">所有数据都由参数（</span><span style="font-weight: bold; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17);">this.props</span><span style="font-weight: bold;">）提供</span></li><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold;">不使用任何 Redux 的 API</span></li></ul></blockquote><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">下面就是一个 UI 组件的例子。</span></div><blockquote style="font-size: 14px; padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><br/>const Title =<br/>  value =&gt; &lt;h1&gt;{value}&lt;/h1&gt;;</code></b></font></pre></blockquote><div><br/></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">容器组件的特征恰恰相反。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><ul style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold; font-size: 14px;">负责管理数据和业务逻辑，不负责 UI 的呈现</span></li><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold; font-size: 14px;">带有内部状态</span></li><li style="padding: 0px; list-style-type: square; text-align: left; border: none; color: rgb(17, 17, 17);"><span style="font-weight: bold; font-size: 14px;">使用 Redux 的 API</span></li></ul></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">总之，只要记住一句话就可以了：UI 组件负责 UI 的呈现，容器组件负责管理数据和逻辑。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">你可能会问，如果一个组件既有 UI 又有业务逻辑，那怎么办？回答是，将它拆分成下面的结构：外面是一个容器组件，里面包了一个UI 组件。前者负责与外部的通信，将数据传给后者，由后者渲染出视图。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">React-Redux 规定，所有的 UI 组件都由用户提供，容器组件则是由 React-Redux 自动生成。也就是说，用户负责视觉层，状态管理则是全部交给它。</span></div><div><br/></div><div><br/></div><h2 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-weight: bold; font-size: 18px;">connect() </span></h2><h2 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-weight: bold; font-size: 18px; color: rgb(0, 150, 255);">//connect 之后就不需要手动写变量值 store.getState() 也不需要手动 store.dispatch()了 props与 state将建立对应关系 并由redux实现自动修改</span></h2><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">React-Redux 提供</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">connect</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">方法，用于从 UI 组件生成容器组件。</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">connect</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">的意思，就是将这两种组件连起来。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>import { connect } from 'react-redux'<br/>const VisibleTodoList = connect()(TodoList);<br/></font></code></b></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">上面代码中，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">TodoList</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">是 UI 组件，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">VisibleTodoList</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">就是由 React-Redux 通过</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">connect</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">方法自动生成的容器组件。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">但是，因为没有定义业务逻辑，上面这个容器组件毫无意义，只是 UI 组件的一个单纯的包装层。为了定义业务逻辑，需要给出下面两方面的信息。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; font-size: 14px;">（1）输入逻辑：外部的数据（即</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; font-size: 14px;">对象）如何转换为 UI 组件的参数</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; font-weight: bold; font-size: 14px;">（2）输出逻辑：用户发出的动作如何变为 Action 对象，从 UI 组件传出去。</span></div></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">因此，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">connect</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">方法的完整 API 如下。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>import { connect } from 'react-redux'<br/><br/>const VisibleTodoList = connect(<br/>  mapStateToProps,<br/>  mapDispatchToProps<br/>)(TodoList)<br/></font></code></b></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">上面代码中，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">connect</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">方法接受两个参数：</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapStateToProps</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">和</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapDispatchToProps</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">。它们定义了 UI 组件的业务逻辑。前者负责输入逻辑，</span><font style="font-size: 18px;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">即将</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">映射到 UI 组件的参数（</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">props</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">）</span></font><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">，后者负责输出逻辑，</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold;"><font style="font-size: 18px;">即将用户对 UI 组件的操作映射成 Action。</font></span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><br/></div><h3 style="color: rgb(0, 0, 0); padding: 0px 0px 0.2em; list-style-type: none; text-align: left; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="color: rgb(0, 0, 0); padding: 0px 0px 0.2em; list-style-type: none; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-weight: bold; font-size: 18px;">mapStateToProps()</span></h3><div style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; text-align: left; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapStateToProps</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">是一个函数。它的作用就是像它的名字那样，</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">建立一个从（外部的）</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">对象到（UI 组件的）</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">props</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">对象的映射关系。</span></div><div style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; text-align: left; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">作为函数，</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapStateToProps</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">执行后应该返回一个对象，里面的每一个键值对就是一个映射。请看下面的例子。</span></div><blockquote style="color: rgb(17, 17, 17); padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>const mapStateToProps = (state) =&gt; {<br/>  return {<br/>    todos: getVisibleTodos(state.todos, state.visibilityFilter)<br/>  }<br/>}<br/></font></code></b></font></pre></blockquote><div style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; text-align: left; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">上面代码中，</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapStateToProps</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">是一个函数，它接受</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">作为参数，返回一个对象。这个对象有一个</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">todos</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">属性，代表 UI 组件的同名参数，后面的</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">getVisibleTodos</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">也是一个函数，可以从</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">算出 </span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">todos</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;"> 的值。</span></div><div style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; text-align: left; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">下面就是</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">getVisibleTodos</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">的一个例子，用来算出</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">todos</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">。</span></div><blockquote style="color: rgb(17, 17, 17); padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>const getVisibleTodos = (todos, filter) =&gt; {<br/>  switch (filter) {<br/>    case 'SHOW_ALL':<br/>      return todos<br/>    case 'SHOW_COMPLETED':<br/>      return todos.filter(t =&gt; t.completed)<br/>    case 'SHOW_ACTIVE':<br/>      return todos.filter(t =&gt; !t.completed)<br/>    default:<br/>      throw new Error('Unknown filter: ' + filter)<br/>  }<br/>}<br/></font></code></b></font></pre></blockquote><div style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; text-align: left; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapStateToProps</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">会订阅 Store，每当</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">更新的时候，就会自动执行，重新计算 UI 组件的参数，从而触发 UI 组件的重新渲染。</span></div><div style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; text-align: left; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapStateToProps</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">的第一个参数总是</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">对象，还可以使用第二个参数，代表容器组件的</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">props</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">对象。</span></div><blockquote style="color: rgb(17, 17, 17); padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>// 容器组件的代码<br/>//    &lt;FilterLink filter="SHOW_ALL"&gt;<br/>//      All<br/>//    &lt;/FilterLink&gt;<br/><br/>const mapStateToProps = (state, ownProps) =&gt; {<br/>  return {<br/>    active: ownProps.filter === state.visibilityFilter<br/>  }<br/>}<br/></font></code></b></font></pre></blockquote><div style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; text-align: left; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">使用</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">ownProps</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 14px;">作为参数后，如果容器组件的参数发生变化，也会引发 UI 组件重新渲染。</span></div><div style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; text-align: left; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 18px;"><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">connect</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">方法可以省略</span><span style="color: rgb(17, 17, 17); padding: 0px 5px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapStateToProps</span><span style="color: rgb(17, 17, 17); padding: 0px; list-style-type: none; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em; font-weight: bold;">参数，那样的话，UI 组件就不会订阅Store，就是说 Store 的更新不会引起 UI 组件的更新。</span></font></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><br/></div><div style="color: rgb(17, 17, 17);"><span style="color: rgb(0, 0, 0); font-weight: bold; font-size: 18px; font-family: Georgia, serif; letter-spacing: -0.03em; word-spacing: 2px;">mapDispatchToProps()</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapDispatchToProps</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">是</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">connect</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">函数的第二个参数，</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">用来建立 UI 组件的参数到</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">方法的映射。也就是说，它定义了哪些用户的操作应该当作 Action，传给 Store</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">。它可以是一个函数，也可以是一个对象。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">如果</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapDispatchToProps</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">是一个函数，会得到</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">dispatch</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">和</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">ownProps</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">（容器组件的</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">props</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">对象）两个参数。</span></div><blockquote style="font-size: 14px; padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><br/>const mapDispatchToProps = (<br/>  dispatch,<br/>  ownProps<br/>) =&gt; {<br/>  return {<br/>    onClick: () =&gt; {<br/>      dispatch({<br/>        type: 'SET_VISIBILITY_FILTER',<br/>        filter: ownProps.filter<br/>      });<br/>    }<br/>  };<br/>}<br/></code></b></font></pre></blockquote><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">从上面代码可以看到，</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapDispatchToProps</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">作为函数，应该返回一个对象，该对象的每个键值对都是一个映射，定义了 UI 组件的参数怎样发出 Action。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">如果</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapDispatchToProps</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">是一个对象，它的每个键名也是对应 UI 组件的同名参数，键值应该是一个函数，会被当作 Action creator ，返回的 Action 会由 Redux 自动发出。举例来说，上面的</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">mapDispatchToProps</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">写成对象就是下面这样。</span></div><blockquote style="font-size: 14px; padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><br/>const mapDispatchToProps = {<br/>  onClick: (filter) =&gt; {<br/>    type: 'SET_VISIBILITY_FILTER',<br/>    filter: filter<br/>  };<br/>}<br/></code></b></font></pre></blockquote><div style="font-size: 14px;"><br/></div><div><br/></div><h2 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-weight: bold; font-size: 18px;">&lt;Provider&gt; 组件</span></h2><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">connect</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">方法生成容器组件以后，需要让容器组件拿到</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">对象，才能生成 UI 组件的参数。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">一种解决方法是将</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">对象作为参数，传入容器组件。但是，这样做比较麻烦，尤其是容器组件可能在很深的层级，一级级将</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">传下去就很麻烦。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">React-Redux 提供</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">Provider</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">组件，可以让容器组件拿到</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">。</span></div><blockquote style="font-size: 14px; padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none;"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font><br/>import { Provider } from 'react-redux'<br/>import { createStore } from 'redux'<br/>import todoApp from './reducers'<br/>import App from './components/App'<br/><br/>let store = createStore(todoApp);<br/><br/>render(<br/>  <font color="#0096ff">&lt;Provider store={store}&gt;<br/>   </font><font color="#942193"> &lt;App /&gt;</font><font color="#0096ff"><br/>  &lt;/Provider&gt;,</font><br/>  document.getElementById('root')<br/>)<br/></font></code></b></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">上面代码中，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">Provider</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">在根组件外面包了一层，这样一来，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">App</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">的所有子组件就默认都可以拿到</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">state</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 18px;">了。</span></div><div style="font-size: 14px; padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">它的原理是</span><span style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">React</span><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">组件的</span><a style="font-size: 14px; padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; -webkit-transition: all 1s; transition: all 1s; text-decoration: underline;" href="https://facebook.github.io/react/docs/context.html">context</a><span style="font-size: 14px; padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold;">属性，请看源码。(略过~)</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 10px;"><br/>class Provider extends Component {<br/>  getChildContext() {<br/>    return {<br/>      store: this.props.store<br/>    };<br/>  }<br/>  render() {<br/>    return this.props.children;<br/>  }<br/>}<br/><br/>Provider.childContextTypes = {<br/>  store: React.PropTypes.object<br/>}<br/></font></code></b></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px;">上面代码中，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px;">放在了上下文对象</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">context</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px;">上面。然后，子组件就可以从</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">context</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px;">拿到</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px;">，代码大致如下。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17);"><font><b><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 10px;"><br/>class VisibleTodoList extends Component {<br/>  componentDidMount() {<br/>    const { store } = this.context;<br/>    this.unsubscribe = store.subscribe(() =&gt;<br/>      this.forceUpdate()<br/>    );<br/>  }<br/><br/>  render() {<br/>    const props = this.props;<br/>    const { store } = this.context;<br/>    const state = store.getState();<br/>    // ...<br/>  }<br/>}<br/><br/>VisibleTodoList.contextTypes = {<br/>  store: React.PropTypes.object<br/>}<br/></font></code></b></font></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">React-Redux</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px;">自动生成的容器组件的代码，就类似上面这样，从而拿到</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-weight: bold; font-size: 10px;">。</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="redux%20%20%207-21.resources/BA285B05-F615-483E-BEBA-678A93380931.png" height="675" width="970"/><br/></div><div><br/></div><div><br/></div><div><img src="redux%20%20%207-21.resources/6747E376-6A4D-49CE-9238-DD8EA3319648.png" height="356" width="537"/><img src="redux%20%20%207-21.resources/65BFEACC-62B9-4879-BF0D-00175289001E.png" height="294" width="564"/><img src="redux%20%20%207-21.resources/B292E7B7-48D2-448E-B993-05BAF8A8D48A.png" height="423" width="549"/><img src="redux%20%20%207-21.resources/630E205B-DE79-4BC0-B7BE-C86B897F0C36.png" height="162" width="324"/><img src="redux%20%20%207-21.resources/633D1F87-D8F0-44CB-8CE0-3AD9FB1AF378.png" height="224" width="413"/></div><div><br/></div><div>redux  通过 export default connect 这个函数就可以吧 action 返回给 UI组件  。 UI组件 通过解构方法获取actions 调用actions bind的方法。</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 18px; font-weight: bold;">API: </span></div><h3 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">Store</span></h3><h3 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">Redux 提供</span><span style="padding: 0px 5px; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); letter-spacing: -0.10000000149011612px; font-size: 14px; border: none; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">createStore</span><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; color: rgb(17, 17, 17); letter-spacing: -0.10000000149011612px; font-size: 14px;">这个函数，用来生成 Store。</span></h3><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><font><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>import <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> createStore <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>const store <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">createStore<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>fn<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></font></pre></blockquote><div><br/></div><h3 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">State</span></h3><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">Store</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">对象包含所有数据。如果想得到某个时点的数据，就要对 Store 生成快照。这种时点的数据集合，就叫做 State。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">当前时刻的 State，可以通过</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.getState()</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">拿到。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>import <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> createStore <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>const store <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">createStore<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>fn<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><br/>const state <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">getState<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">Redux 规定， 一个 State 对应一个 View。只要 State 相同，View 就相同。你知道 State，就知道 View 是什么样，反之亦然。</span></div><div><br/></div><h3 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">Action</span></h3><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">State 的变化，会导致 View 的变化。但是，用户接触不到 State，只能接触到 View。所以，State 的变化必须是 View 导致的。Action 就是 View 发出的通知，表示 State 应该要发生变化了。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">Action 是一个对象。其中的</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">type</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">属性是必须的，表示 Action 的名称。其他属性可以自由设置，社区有一个</span><a style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 34, 51); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; text-decoration: underline;" href="https://github.com/acdlite/flux-standard-action">规范</a><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">可以参考。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>const action <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/>  type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'ADD_TODO'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span><br/>  payload<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'Learn Redux'</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">上面代码中，Action 的名称是</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">ADD_TODO</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">，它携带的信息是字符串</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">Learn Redux</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">可以这样理解，Action 描述当前发生的事情。改变 State 的唯一办法，就是使用 Action。它会运送数据到 Store。</span></div><h3 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">Action Creator</span></h3><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">View 要发送多少种消息，就会有多少种 Action。如果都手写，会很麻烦。可以定义一个函数来生成 Action，这个函数就叫 Action Creator。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>const ADD_TODO <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'添加 TODO'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(0, 119, 170);">function</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">addTodo<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>text<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(0, 119, 170);">return</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/>    type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> ADD_TODO<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span><br/>    text<br/>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><br/><br/>const action <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">addTodo<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'Learn Redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">上面代码中，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">addTodo</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">函数就是一个 Action Creator。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><br/></div><h3 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">store.dispatch()</span></h3><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch()</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">是 View 发出 Action 的唯一方法。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>import <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> createStore <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>const store <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">createStore<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>fn<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><br/>store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/>  type<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'ADD_TODO'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span><br/>  payload<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">:</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'Learn Redux'</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">上面代码中，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">接受一个 Action 对象作为参数，将它发送出去。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">结合 Action Creator，这段代码可以改写如下。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>store<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">.</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">dispatch<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">addTodo<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'Learn Redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span></font></code></pre></blockquote><h2 style="padding: 0px 0px 0.2em; list-style-type: none; text-align: left; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><span style="padding: 0px 0px 0.2em; list-style-type: none; font-weight: bold; border-style: none none solid; border-bottom-width: 1px; border-bottom-color: rgb(211, 211, 211); color: rgb(0, 0, 0); letter-spacing: -0.03em; font-family: Georgia, serif; font-variant-caps: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px; font-size: 14px;">Reducer</span></h2><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">Store 收到 Action 以后，必须给出一个新的 State，这样 View 才会发生变化。这种 State 的计算过程就叫做 Reducer。</span></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">Reducer 是一个函数，它接受 Action 和当前 State 作为参数，返回一个新的 State。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>const reducer <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(0, 119, 170);">function</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span>state<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">,</span> action<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span><br/> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(112, 128, 144);"> // ...<br/></span>  <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(0, 119, 170);">return</span> new_state<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></pre></blockquote><div><br/></div><div><br/></div><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">方法会触发 Reducer 的自动执行。为此，Store 需要知道 Reducer 函数，做法就是在生成 Store 的时候，将 Reducer 传入</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">createStore</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">方法。</span></div><blockquote style="padding: 1em; list-style-type: none; text-align: left; border: 0.3em solid rgb(224, 223, 204); color: rgb(17, 17, 17); background-color: rgb(245, 242, 240); border-top-left-radius: 1em; border-top-right-radius: 1em; border-bottom-right-radius: 1em; border-bottom-left-radius: 1em; font-family: Consolas, Monaco, 'Andale Mono', monospace; text-shadow: white 0px 1px; overflow: auto; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 2px; -webkit-text-stroke-width: 0px;"><pre style="padding: 0em 0em 0.5em; list-style-type: none; text-align: left; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none; overflow: auto; background-color: rgb(245, 242, 240);"><code style="padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: black; text-shadow: white 0px 1px; font-family: Consolas, Monaco, 'Andale Mono', monospace; direction: ltr; white-space: pre; word-spacing: normal; tab-size: 4; -webkit-hyphens: none;"><font style="font-size: 14px;"><br/>import <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">{</span> createStore <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">}</span> from <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(102, 153, 0);">'redux'</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/>const store <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(166, 127, 89); background-color: rgba(255, 255, 255, 0.498039); background-position: initial initial; background-repeat: initial initial;">=</span> <span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(17, 17, 17);">createStore<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">(</span></span>reducer<span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">)</span><span style=" padding: 0px; list-style-type: none; text-align: left; text-decoration: none; font-weight: normal; font-style: normal; border: none; color: rgb(153, 153, 153);">;</span><br/></font></code></pre></blockquote><div style="padding: 0px; list-style-type: none; text-align: left; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">上面代码中，</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">createStore</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">接受 Reducer 作为参数，生成一个新的 Store。以后每当</span><span style="padding: 0px 5px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px; background-color: rgb(255, 192, 203); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;">store.dispatch</span><span style="padding: 0px; list-style-type: none; border: none; color: rgb(17, 17, 17); font-family: Georgia, serif; font-variant-caps: normal; letter-spacing: -0.10000000149011612px; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 2px; -webkit-text-stroke-width: 0px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; orphans: auto; widows: auto; font-size: 14px;">发送过来一个新的 Action，就会自动调用 Reducer，得到新的 State。</span></div><div><br/></div><div><br/></div></body></html>